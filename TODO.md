# План разработки Orbita OS

## Этап 1: Базовая инфраструктура (Завершен)
- [x] Настройка окружения разработки
- [x] Базовая структура проекта
- [x] Загрузчик
- [x] Переход в защищенный режим
- [x] Настройка GDT
- [x] Обработка прерываний (IDT)
- [x] Управление памятью (страничная адресация)
- [x] Аллокатор кучи
- [x] Вывод в последовательный порт
- [x] Базовая поддержка клавиатуры

## Этап 2: Графическая подсистема (В процессе)
- [x] Инициализация framebuffer
- [x] Базовые графические примитивы
- [x] Отрисовка текста
- [ ] Двойная буферизация
- [ ] Аппаратное ускорение через VESA/GOP
- [ ] Поддержка курсора мыши
- [ ] Оконный менеджер
- [ ] Композитор

## Этап 3: Драйверы устройств
### Драйвер звуковой карты
- [ ] Обнаружение звуковых устройств через PCI
- [ ] Драйвер AC97
  - [ ] Инициализация контроллера
  - [ ] Настройка DMA
  - [ ] Воспроизведение PCM
  - [ ] Управление громкостью
- [ ] Драйвер Intel HDA
  - [ ] Инициализация контроллера
  - [ ] Обнаружение кодеков
  - [ ] Настройка потоков
  - [ ] Воспроизведение аудио

### Драйвер дисковой подсистемы
- [ ] Драйвер ATA/ATAPI
  - [ ] Обнаружение дисков
  - [ ] Чтение секторов
  - [ ] Запись секторов
  - [ ] DMA передачи
- [ ] Драйвер AHCI (SATA)
  - [ ] Инициализация контроллера
  - [ ] Обнаружение портов
  - [ ] Команды чтения/записи
  - [ ] NCQ поддержка

### Сетевые драйверы
- [ ] Драйвер RTL8139
  - [ ] Инициализация
  - [ ] Отправка пакетов
  - [ ] Прием пакетов
  - [ ] Обработка прерываний
- [ ] Драйвер Intel E1000
  - [ ] Инициализация
  - [ ] Кольцевые буферы
  - [ ] DMA операции

### USB драйверы
- [ ] UHCI контроллер
- [ ] OHCI контроллер
- [ ] EHCI контроллер
- [ ] XHCI контроллер
- [ ] USB Mass Storage
- [ ] USB HID (клавиатура, мышь)

## Этап 4: Файловая система
- [ ] Virtual File System (VFS)
  - [ ] Абстракция файловых операций
  - [ ] Монтирование файловых систем
  - [ ] Кэширование
- [ ] FAT32 поддержка
  - [ ] Чтение FAT таблицы
  - [ ] Навигация по директориям
  - [ ] Чтение файлов
  - [ ] Запись файлов
- [ ] ext2 поддержка
  - [ ] Чтение суперблока
  - [ ] Работа с inodes
  - [ ] Чтение/запись файлов
- [ ] Собственная файловая система OrbitaFS
  - [ ] Журналирование
  - [ ] Copy-on-write
  - [ ] Снимки

## Этап 5: Сетевой стек
- [x] Ethernet драйвер
- [x] ARP протокол
- [x] IPv4 протокол
  - [x] Обработка пакетов
  - [x] Маршрутизация
  - [x] Фрагментация
- [x] ICMP протокол
- [x] UDP протокол
- [x] TCP протокол
  - [x] Установка соединения
  - [x] Передача данных
  - [x] Управление потоком
  - [x] Управление перегрузкой
- [x] DNS клиент
- [x] DHCP клиент

## Этап 6: Многозадачность
- [ ] Планировщик задач
  - [ ] Round-robin
  - [ ] Priority-based
  - [ ] CFS-подобный
- [ ] Управление процессами
  - [ ] Создание процессов
  - [ ] Завершение процессов
  - [ ] Межпроцессное взаимодействие
- [ ] Потоки (threads)
  - [ ] Создание потоков
  - [ ] Синхронизация
  - [ ] Thread-local storage
- [ ] Синхронизация
  - [ ] Мьютексы
  - [ ] Семафоры
  - [ ] Условные переменные
  - [ ] RW-блокировки

## Этап 7: Пользовательское пространство
- [ ] Системные вызовы
- [ ] Загрузчик ELF
- [ ] Динамический линкер
- [ ] Стандартная библиотека C
- [ ] Shell (командная оболочка)
- [ ] Базовые утилиты (ls, cat, echo и т.д.)

## Этап 8: GUI подсистема
- [ ] Оконная система
  - [ ] Управление окнами
  - [ ] Декорации окон
  - [ ] Перемещение/изменение размера
- [ ] Виджеты
  - [ ] Кнопки
  - [ ] Текстовые поля
  - [ ] Списки
  - [ ] Меню
- [ ] Темы оформления
- [ ] Файловый менеджер
- [ ] Терминал с GUI
- [ ] Текстовый редактор
- [ ] Браузер изображений

## Этап 9: Расширенные возможности
- [ ] Виртуальная память
  - [ ] Swap поддержка
  - [ ] Memory-mapped файлы
  - [ ] Copy-on-write
- [ ] Поддержка SMP (многопроцессорность)
  - [ ] Обнаружение CPU
  - [ ] Инициализация AP
  - [ ] Межпроцессорные прерывания
- [ ] ACPI поддержка
  - [ ] Управление питанием
  - [ ] Обнаружение устройств
  - [ ] Горячее подключение
- [ ] Подсистема безопасности
  - [ ] Права доступа
  - [ ] Capabilities
  - [ ] SELinux-подобная система

## Этап 10: Приложения
- [ ] Компилятор (порт GCC/LLVM)
- [ ] Интерпретатор Python
- [ ] Текстовый редактор (порт vim/nano)
- [ ] Web браузер (минимальный)
- [ ] Медиаплеер
- [ ] Игры (тетрис, змейка)
- [ ] Офисные приложения

## Этап 11: Оптимизация и стабилизация
- [ ] Профилирование производительности
- [ ] Оптимизация критических путей
- [ ] Устранение утечек памяти
- [ ] Стресс-тестирование
- [ ] Документирование API
- [ ] Написание руководств

## Этап 12: Расширенные драйверы
- [ ] 3D ускорение (базовое)
- [ ] WiFi поддержка
- [ ] Bluetooth поддержка
- [ ] Поддержка принтеров
- [ ] Поддержка сканеров
- [ ] Веб-камеры

## Особые задачи для новых разработчиков

### Легкие задачи (для начинающих)
1. Добавить новые цвета в graphics.rs
2. Реализовать команду clear в shell
3. Добавить поддержку backspace в обработчике клавиатуры
4. Создать простую анимацию загрузки

### Средние задачи
1. Реализовать простой драйвер мыши PS/2
2. Добавить поддержку русской раскладки клавиатуры
3. Создать простой калькулятор в GUI
4. Реализовать команду ls для файловой системы

### Сложные задачи
1. Портировать существующий драйвер Linux
2. Реализовать TCP стек
3. Создать отладчик ядра
4. Реализовать виртуализацию (KVM-подобную)